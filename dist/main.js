!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=60)}([function(t,e,n){"use strict";var r=n(11),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.b64UrlDecode=e.b64UrlEncode=e.bufferTob64Url=e.bufferTob64=e.b64UrlToBuffer=e.stringToB64Url=e.stringToBuffer=e.bufferToString=e.b64UrlToString=e.concatBuffers=void 0;const r=n(19);function o(t){if("undefined"==typeof TextEncoder){return(new(0,n(4).TextEncoder)).encode(t)}return(new TextEncoder).encode(t)}function i(t){return new Uint8Array(r.toByteArray(c(t)))}function a(t){return r.fromByteArray(new Uint8Array(t))}function s(t){return u(a(t))}function u(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function c(t){let e;return e=(t=t.replace(/\-/g,"+").replace(/\_/g,"/")).length%4==0?0:4-t.length%4,t.concat("=".repeat(e))}e.concatBuffers=function(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n].byteLength;let n=new Uint8Array(e),r=0;n.set(new Uint8Array(t[0]),r),r+=t[0].byteLength;for(let e=1;e<t.length;e++)n.set(new Uint8Array(t[e]),r),r+=t[e].byteLength;return n},e.b64UrlToString=function(t){let e=i(t);if("undefined"==typeof TextDecoder){return new(0,n(4).TextDecoder)("utf-8",{fatal:!0}).decode(e)}return new TextDecoder("utf-8",{fatal:!0}).decode(e)},e.bufferToString=function(t){if("undefined"==typeof TextDecoder){return new(0,n(4).TextDecoder)("utf-8",{fatal:!0}).decode(t)}return new TextDecoder("utf-8",{fatal:!0}).decode(t)},e.stringToBuffer=o,e.stringToB64Url=function(t){return s(o(t))},e.b64UrlToBuffer=i,e.bufferTob64=a,e.bufferTob64Url=s,e.b64UrlEncode=u,e.b64UrlDecode=c},function(t,e,n){"use strict";(function(e){function n(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var n,r="",o=0,i=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",o=0):o=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),i=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+t.slice(i+1,s):r=t.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var o={resolve:function(){for(var t,o="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var s;a>=0?s=arguments[a]:(void 0===t&&(t=e.cwd()),s=t),n(s),0!==s.length&&(o=s+"/"+o,i=47===s.charCodeAt(0))}return o=r(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(t){if(n(t),0===t.length)return".";var e=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!e)).length||e||(t="."),t.length>0&&o&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return n(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];n(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":o.normalize(t)},relative:function(t,e){if(n(t),n(e),t===e)return"";if((t=o.resolve(t))===(e=o.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var i=t.length,a=i-r,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var u=e.length-s,c=a<u?a:u,l=-1,f=0;f<=c;++f){if(f===c){if(u>c){if(47===e.charCodeAt(s+f))return e.slice(s+f+1);if(0===f)return e.slice(s+f)}else a>c&&(47===t.charCodeAt(r+f)?l=f:0===f&&(l=0));break}var h=t.charCodeAt(r+f);if(h!==e.charCodeAt(s+f))break;47===h&&(l=f)}var p="";for(f=r+l+1;f<=i;++f)f!==i&&47!==t.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return p.length>0?p+e.slice(s+l):(s+=l,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(n(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":t.slice(0,o)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');n(t);var r,o=0,i=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,u=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(47===c){if(!a){o=r+1;break}}else-1===u&&(a=!1,u=r+1),s>=0&&(c===e.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=u))}return o===i?i=u:-1===i&&(i=t.length),t.slice(o,i)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){o=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":t.slice(o,i)},extname:function(t){n(t);for(var e=-1,r=0,o=-1,i=!0,a=0,s=t.length-1;s>=0;--s){var u=t.charCodeAt(s);if(47!==u)-1===o&&(i=!1,o=s+1),46===u?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){r=s+1;break}}return-1===e||-1===o||0===a||1===a&&e===o-1&&e===r+1?"":t.slice(e,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){n(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,o=t.charCodeAt(0),i=47===o;i?(e.root="/",r=1):r=0;for(var a=-1,s=0,u=-1,c=!0,l=t.length-1,f=0;l>=r;--l)if(47!==(o=t.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===o?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1);else if(!c){s=l+1;break}return-1===a||-1===u||0===f||1===f&&a===u-1&&a===s+1?-1!==u&&(e.base=e.name=0===s&&i?t.slice(1,u):t.slice(s,u)):(0===s&&i?(e.name=t.slice(1,a),e.base=t.slice(1,u)):(e.name=t.slice(s,a),e.base=t.slice(s,u)),e.ext=t.slice(a,u)),s>0?e.dir=t.slice(0,s-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,t.exports=o}).call(this,n(6))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(44),o=n(46),i=n(47),a=n(48),s=n(56),u=n(8),c=n(1),l=n(57),f=n(58);class h{constructor(t){this.api=new o.default(t),this.wallets=new s.default(this.api,h.crypto),this.chunks=new f.default(this.api),this.transactions=new a.default(this.api,h.crypto,this.chunks),this.silo=new l.default(this.api,this.crypto,this.transactions),this.network=new i.default(this.api),this.ar=new r.default}get crypto(){return h.crypto}get utils(){return h.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(t,e){await this.wallets.jwkToAddress(e);const n={};if(Object.assign(n,t),!(t.data||t.target&&t.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(null==t.owner&&(n.owner=e.n),null==t.last_tx&&(n.last_tx=await this.transactions.getTransactionAnchor()),"string"==typeof t.data&&(t.data=c.stringToBuffer(t.data)),t.data instanceof ArrayBuffer&&(t.data=new Uint8Array(t.data)),t.data&&!(t.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(null==t.reward){const e=t.data?t.data.byteLength:0;n.reward=await this.transactions.getPrice(e,n.target)}return n.data_root="",n.data_size=t.data?t.data.byteLength.toString():"0",n.data=t.data||new Uint8Array(0),new u.default(n)}async createSiloTransaction(t,e,n){await this.wallets.jwkToAddress(e);const r={};if(Object.assign(r,t),!t.data)throw new Error("Silo transactions must have a 'data' value");if(!n)throw new Error("No Silo URI specified.");if(t.target||t.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");null==t.owner&&(r.owner=e.n),null==t.last_tx&&(r.last_tx=await this.transactions.getTransactionAnchor());const o=await this.silo.parseUri(n);if("string"==typeof t.data){const e=await this.crypto.encrypt(c.stringToBuffer(t.data),o.getEncryptionKey());r.reward=await this.transactions.getPrice(e.byteLength),r.data=c.bufferTob64Url(e)}if(t.data instanceof Uint8Array){const e=await this.crypto.encrypt(t.data,o.getEncryptionKey());r.reward=await this.transactions.getPrice(e.byteLength),r.data=c.bufferTob64Url(e)}const i=new u.default(r);return i.addTag("Silo-Name",o.getAccessKey()),i.addTag("Silo-Version","0.1.0"),i}arql(t){return this.api.post("/arql",t).then(t=>t.data||[])}}e.default=h,h.utils=c},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),u=r[n];n<i;u=r[++n])g(u)||!b(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,r){if(t.customInspect&&n&&x(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return w(o)||(o=l(t,o,r)),o}var i=function(t,e){if(m(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(y(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(g(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(x(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(v(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var c,b="",A=!1,S=["{","}"];(p(n)&&(A=!0,S=["[","]"]),x(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return v(n)&&(b=" "+RegExp.prototype.toString.call(n)),E(n)&&(b=" "+Date.prototype.toUTCString.call(n)),T(n)&&(b=" "+f(n)),0!==a.length||A&&0!=n.length?r<0?v(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=A?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)_(e,String(a))?i.push(h(t,e,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(t,e,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return h(t,n,r,s,e,A)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,S)):S[0]+b+S[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),_(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),m(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function g(t){return null===t}function y(t){return"number"==typeof t}function w(t){return"string"==typeof t}function m(t){return void 0===t}function v(t){return b(t)&&"[object RegExp]"===A(t)}function b(t){return"object"==typeof t&&null!==t}function E(t){return b(t)&&"[object Date]"===A(t)}function T(t){return b(t)&&("[object Error]"===A(t)||t instanceof Error)}function x(t){return"function"==typeof t}function A(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(m(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=d,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=w,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=m,e.isRegExp=v,e.isObject=b,e.isDate=E,e.isError=T,e.isFunction=x,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(49);var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),B[t.getMonth()],e].join(" ")}function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=n(50),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function U(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(C&&t[C]){var e;if("function"!=typeof(e=t[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),C&&Object.defineProperty(e,C,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=C,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then((function(e){t.nextTick(a,null,e)}),(function(e){t.nextTick(U,e,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(6))},function(t,e,n){t.exports=n(28)},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getError=void 0;class r extends Error{constructor(t,e={}){e.message?super(e.message):super(),this.type=t,this.response=e.response}getType(){return this.type}}e.default=r,e.getError=function(t){let e=t.data;if("string"==typeof t.data)try{e=JSON.parse(t.data)}catch(t){}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch(t){}return e?e.error||e:t.statusText||"unknown"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0;const r=n(1),o=n(51),i=n(20);class a{get(t,e){if(!Object.getOwnPropertyNames(this).includes(t))throw new Error(`Field "${t}" is not a property of the Arweave Transaction class.`);return this[t]instanceof Uint8Array?e&&e.decode&&e.string?r.bufferToString(this[t]):e&&e.decode&&!e.string?this[t]:r.bufferTob64Url(this[t]):e&&1==e.decode?e&&e.string?r.b64UrlToString(this[t]):r.b64UrlToBuffer(this[t]):this[t]}}class s extends a{constructor(t,e,n=!1){super(),this.name=t,this.value=e}}e.Tag=s;e.default=class extends a{constructor(t={}){super(),this.format=2,this.id="",this.last_tx="",this.owner="",this.tags=[],this.target="",this.quantity="0",this.data_size="0",this.data=new Uint8Array,this.data_root="",this.reward="0",this.signature="",Object.assign(this,t),"string"==typeof this.data&&(this.data=r.b64UrlToBuffer(this.data)),t.tags&&(this.tags=t.tags.map(t=>new s(t.name,t.value)))}addTag(t,e){this.tags.push(new s(r.stringToB64Url(t),r.stringToB64Url(e)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:r.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setSignature({signature:t,id:e}){this.signature=t,this.id=e}async prepareChunks(t){!this.chunks&&t.byteLength>0&&(this.chunks=await i.generateTransactionChunks(t),this.data_root=r.bufferTob64Url(this.chunks.data_root)),this.chunks||0!==t.byteLength||(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(t,e){if(!this.chunks)throw new Error("Chunks have not been prepared");const n=this.chunks.proofs[t],o=this.chunks.chunks[t];return{data_root:this.data_root,data_size:this.data_size,data_path:r.bufferTob64Url(n.proof),offset:n.offset.toString(),chunk:r.bufferTob64Url(e.slice(o.minByteRange,o.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let t=this.tags.reduce((t,e)=>t+e.get("name",{decode:!0,string:!0})+e.get("value",{decode:!0,string:!0}),"");return r.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),r.stringToBuffer(this.quantity),r.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),r.stringToBuffer(t)]);case 2:await this.prepareChunks(this.data);const e=this.tags.map(t=>[t.get("name",{decode:!0,string:!1}),t.get("value",{decode:!0,string:!1})]);return await o.default([r.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),r.stringToBuffer(this.quantity),r.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),e,r.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error("Unexpected transaction format: "+this.format)}}}},function(t,e,n){"use strict";(function(e){var r=n(26),o=n(27),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(t=t||r);if("blob:"===t.protocol)o=new p(unescape(t.pathname),{});else if("string"===a)for(n in o=new p(t,{}),l)delete o[n];else if("object"===a){for(n in t)n in l||(o[n]=t[n]);void 0===o.slashes&&(o.slashes=i.test(t.href))}return o}function h(t){t=u(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(t=u(t),!(this instanceof p))return new p(t,e,n);var i,a,s,l,d,g,y=c.slice(),w=typeof e,m=this,v=0;for("object"!==w&&"string"!==w&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),e=f(e),i=!(a=h(t||"")).protocol&&!a.slashes,m.slashes=a.slashes||i&&e.slashes,m.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(y[3]=[/(.*)/,"pathname"]);v<y.length;v++)"function"!=typeof(l=y[v])?(s=l[0],g=l[1],s!=s?m[g]=t:"string"==typeof s?~(d=t.indexOf(s))&&("number"==typeof l[2]?(m[g]=t.slice(0,d),t=t.slice(d+l[2])):(m[g]=t.slice(d),t=t.slice(0,d))):(d=s.exec(t))&&(m[g]=d[1],t=t.slice(0,d.index)),m[g]=m[g]||i&&l[3]&&e[g]||"",l[4]&&(m[g]=m[g].toLowerCase())):t=l(t);n&&(m.query=n(m.query)),i&&e.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==e.pathname)&&(m.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(m.pathname,e.pathname)),r(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(l=m.auth.split(":"),m.username=l[0]||"",m.password=l[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}p.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";i[t]=e.charAt(0)!==a?a+e:e}else i[t]=e;break;default:i[t]=e}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}},p.extractProtocol=h,p.location=f,p.trimLeft=u,p.qs=o,t.exports=p}).call(this,n(10))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(33),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(15)),s),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(i)})),t.exports=u}).call(this,n(6))},function(t,e,n){"use strict";var r=n(0),o=n(34),i=n(12),a=n(36),s=n(39),u=n(40),c=n(16);t.exports=function(t){return new Promise((function(e,l){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+btoa(d+":"+g)}var y=a(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),i(y,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};o(e,l,r),p=null}},p.onabort=function(){p&&(l(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(c(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var w=n(41),m=(t.withCredentials||u(y))&&t.xsrfCookieName?w.read(t.xsrfCookieName):void 0;m&&(h[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(h,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),l(t),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(t,e,n){"use strict";var r=n(35);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=o.concat(i).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.validatePath=e.arrayCompare=e.bufferToInt=e.intToBuffer=e.arrayFlatten=e.generateProofs=e.buildLayers=e.generateTransactionChunks=e.generateTree=e.computeRootHash=e.generateLeaves=e.chunkData=e.MIN_CHUNK_SIZE=e.MAX_CHUNK_SIZE=void 0;const r=n(3),o=n(1),i=n(4);e.MAX_CHUNK_SIZE=262144,e.MIN_CHUNK_SIZE=32768;async function a(t){let n=[],o=t,i=0;for(;o.byteLength>=e.MAX_CHUNK_SIZE;){let t=e.MAX_CHUNK_SIZE,a=o.byteLength-e.MAX_CHUNK_SIZE;a>0&&a<e.MIN_CHUNK_SIZE&&(t=Math.ceil(o.byteLength/2));const s=o.slice(0,t),u=await r.default.crypto.hash(s);i+=s.byteLength,n.push({dataHash:u,minByteRange:i-s.byteLength,maxByteRange:i}),o=o.slice(t)}return n.push({dataHash:await r.default.crypto.hash(o),minByteRange:i,maxByteRange:i+o.byteLength}),n}async function s(t){return Promise.all(t.map(async({dataHash:t,minByteRange:e,maxByteRange:n})=>({type:"leaf",id:await p(await Promise.all([p(t),p(d(n))])),dataHash:t,minByteRange:e,maxByteRange:n})))}async function u(t){return await c(await s(await a(t)))}async function c(t,e=0){if(t.length<2){return await h(t[0],t[1])}const n=[];for(let e=0;e<t.length;e+=2)n.push(await h(t[e],t[e+1]));return c(n,e+1)}function l(t){const e=function t(e,n=new Uint8Array,r=0){if("leaf"==e.type)return{offset:e.maxByteRange-1,proof:o.concatBuffers([n,e.dataHash,d(e.maxByteRange)])};if("branch"==e.type){const i=o.concatBuffers([n,e.leftChild.id,e.rightChild.id,d(e.byteRange)]);return[t(e.leftChild,i,r+1),t(e.rightChild,i,r+1)]}throw new Error("Unexpected node type")}(t);return Array.isArray(e)?f(e):[e]}function f(t){const e=[];return t.forEach(t=>{Array.isArray(t)?e.push(...f(t)):e.push(t)}),e}async function h(t,e){if(!e)return t;return{type:"branch",id:await p([await p(t.id),await p(e.id),await p(d(t.maxByteRange))]),byteRange:t.maxByteRange,maxByteRange:e.maxByteRange,leftChild:t,rightChild:e}}async function p(t){return Array.isArray(t)&&(t=r.default.utils.concatBuffers(t)),new Uint8Array(await r.default.crypto.hash(t))}function d(t){const e=new Uint8Array(32);for(var n=e.length-1;n>=0;n--){var r=t%256;e[n]=r,t=(t-r)/256}return e}function g(t){let e=0;for(var n=0;n<t.length;n++)e*=256,e+=t[n];return e}e.chunkData=a,e.generateLeaves=s,e.computeRootHash=async function(t){return(await u(t)).id},e.generateTree=u,e.generateTransactionChunks=async function(t){const e=await a(t),n=await s(e),r=await c(n),o=await l(r),i=e.slice(-1)[0];return i.maxByteRange-i.minByteRange==0&&(e.splice(e.length-1,1),o.splice(o.length-1,1)),{data_root:r.id,chunks:e,proofs:o}},e.buildLayers=c,e.generateProofs=l,e.arrayFlatten=f,e.intToBuffer=d,e.bufferToInt=g,e.arrayCompare=(t,e)=>t.every((t,n)=>e[n]===t),e.validatePath=async function t(n,r,o,i,a){if(i<=0)return!1;if(r>=i)return t(n,0,i-1,i,a);if(r<0)return t(n,0,0,i,a);if(64==a.length){const t=a.slice(0,32),r=a.slice(t.length,t.length+32),s=await p([await p(t),await p(r)]);return!!e.arrayCompare(n,s)&&{offset:i-1,leftBound:o,rightBound:i,chunkSize:i-o}}const s=a.slice(0,32),u=a.slice(s.length,s.length+32),c=a.slice(s.length+u.length,s.length+u.length+32),l=g(c),f=a.slice(s.length+u.length+c.length),h=await p([await p(s),await p(u),await p(c)]);return!!e.arrayCompare(n,h)&&(r<l?await t(s,r,o,Math.min(i,l),f):await t(u,r,Math.max(o,l),i,f))},e.debug=async function e(n,r=""){if(n.byteLength<1)return r;const o=n.slice(0,32),a=n.slice(o.length,o.length+32),s=n.slice(o.length+a.length,o.length+a.length+32),u=g(s),c=n.slice(o.length+a.length+s.length),l=await p([await p(o),await p(a),await p(s)]);return e(c,`${r}\n${i.inspect(t.from(o))},${i.inspect(t.from(a))},${u} => ${i.inspect(l)}`)}}).call(this,n(52).Buffer)},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0});const i=n(3),a=n(59);i.default.crypto=new a.default,i.default.init=function(t={}){const e=function(){const t={host:"arweave.net",port:443,protocol:"https"};if(!(window&&window.location&&window.location.protocol&&window.location.hostname))return t;const e=window.location.protocol.replace(":",""),n=window.location.hostname,r=window.location.port?parseInt(window.location.port):"https"==e?443:80;return["localhost","127.0.0.1"].includes(n)||"file"==e?t:{host:n,port:r,protocol:e}}(),n=t.protocol||e.protocol,r=t.host||e.host,o=t.port||e.port;return new i.default(Object.assign(Object.assign({},t),{host:r,protocol:n,port:o}))},window.Arweave=i.default,o(n(3),e),e.default=i.default},function(t,e,n){var r=n(24),o=n(25);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var f=s(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,g=0;function y(t,e){var n,r,o;if(e.singleton){var i=g++;n=d||(d=c(e)),r=h.bind(null,n,i,!1),o=h.bind(null,n,i,!0)}else n=c(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=u(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){"use strict";n.r(e);var r=n(21),o=n.n(r)()(!1);o.push([t.i,"* {\n  font-family: 'Raleway';\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\nbody {\n  background-color: #f4f1de;\n}\n#menu {\n  height: 70px;\n  width: 100%;\n  background-color: #81b29a;\n  margin: 0;\n}\n#headerText {\n  font-size: 40px;\n  line-height: 70px;\n  padding-left: 1.5%;\n  color: #f4f1de;\n}\n#pageOne {\n  display: block;\n  width: 100%;\n}\n#pageTwo {\n  display: none;\n}\n#pageThree {\n  display: none;\n}\n#line {\n  width: 20%;\n  height: 25px;\n  border-bottom: #81b29a solid 1px;\n}\n#title {\n  padding: 1% 0 0 1%;\n}\n#titleText {\n  font-size: 50px;\n  font-family: 'Kaushan Script';\n  color: #e07a5f;\n}\n#description {\n  padding: 1.5% 2% 3% 2%;\n}\n#descriptiveText {\n  font-size: 20px;\n  font-family: 'Raleway';\n  color: #3d405b;\n  line-height: 1.5;\n}\n#instructions {\n  padding-bottom: 2%;\n}\n#moveForward {\n  font-size: 18px;\n  font-family: 'Raleway';\n  color: #3d405b;\n  line-height: 1.5;\n  font-style: italic;\n  text-align: center;\n  display: block;\n}\n#moveBack {\n  font-size: 18px;\n  font-family: 'Raleway';\n  color: #3d405b;\n  line-height: 1.5;\n  text-align: center;\n  display: block;\n}\n.requirementDescription {\n  padding: 1.5% 2% 3% 2%;\n}\n.requirementText {\n  font-size: 20px;\n  font-family: 'Raleway';\n  color: #3d405b;\n  line-height: 1.5;\n}\n.task {\n  display: flex;\n  padding-left: 2%;\n}\n.number {\n  border-radius: 50%;\n  font-size: 50px;\n  color: #3d405b;\n  border: #3d405b solid 0.5px;\n  width: 90px;\n  height: 60px;\n  text-align: center;\n}\n.number p {\n  height: 0px;\n  margin-top: -4px;\n}\n.taskText {\n  padding-right: 2%;\n  padding-left: 2%;\n  line-height: 1.5;\n}\n#previewHeader {\n  padding: 2% 0 0 1.5%;\n  font-size: 35px;\n  color: #e07a5f;\n}\n#preview {\n  padding-top: 2%;\n}\n#preview iframe {\n  width: 80%;\n  margin-left: 10%;\n  height: 500px;\n  border: #3d405b 5px;\n  border-style: double;\n}\n#buildDescription {\n  padding: 2% 2% 1% 1.5%;\n}\n#buildText {\n  font-size: 20px;\n  font-family: 'Raleway';\n  color: #3d405b;\n  line-height: 1.5;\n}\n#customOptions {\n  padding-left: 1.5%;\n  padding-top: 1%;\n}\n.Category {\n  margin-bottom: 1.5%;\n  display: flex;\n}\n.CategoryText {\n  margin-right: 25px;\n}\n.CategoryHeader {\n  color: #3d405b;\n  padding-top: 1%;\n  padding-bottom: 0.5%;\n}\n.CategorySubtitle {\n  color: #81b29a;\n  font-style: italic;\n  padding-bottom: 0.5%;\n}\n.Category textarea {\n  border: #3d405b solid 0.5px;\n}\n.Category input {\n  width: 20%;\n  height: 35px;\n  padding-left: 10px;\n  margin-top: 1%;\n  border: #3d405b solid 0.5px;\n}\n.catGroup {\n  width: 100%;\n  height: 100%;\n}\n.catGroup input {\n  width: 60%;\n}\n.catGroup div {\n  width: 50%;\n  float: left;\n}\n.catGroup:after {\n  content: '';\n  display: table;\n  clear: both;\n}\n#blogButton {\n  padding: 20px;\n  background-color: #3d405b;\n  color: #f4f1de;\n  font-size: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 3%;\n  margin-bottom: 2%;\n  display: block;\n  transition: all 0.3s ease-in-out;\n}\n#blogButton:hover {\n  cursor: pointer;\n  background-color: #81b29a;\n  color: #3d405b;\n}\n#flipper {\n  width: 100%;\n  height: 20%;\n  bottom: 0;\n  padding-bottom: 6%;\n}\n#leftflipper {\n  width: 50%;\n  float: left;\n}\n#rightflipper {\n  width: 50%;\n  float: right;\n  text-align: right;\n}\n#leftFlipIcon {\n  color: #f2cc8f;\n  font-size: 50px;\n  padding-left: 4%;\n  transition: color 0.3s ease-in-out;\n}\n#leftFlipIcon:hover {\n  color: #f1b24c;\n  cursor: pointer;\n}\n#rightFlipIcon {\n  color: #f2cc8f;\n  font-size: 50px;\n  padding-right: 4%;\n  transition: color 0.3s ease-in-out;\n}\n#rightFlipIcon:hover {\n  color: #f1b24c;\n  cursor: pointer;\n}\n#PopUpWrapper {\n  position: fixed;\n  background-color: #00000040;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n#PopUpDiv {\n  background-color: #3d405b;\n  width: 50%;\n  height: fit-content;\n  padding: 20px;\n  display: inline-block;\n  box-shadow: 3px -3px 5px #707070;\n}\n#PopUpDiv h1 {\n  line-height: 1.5;\n  font-size: 40px;\n  color: #f4f1de;\n}\n#PopUpDiv p {\n  line-height: 2;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  font-size: 20px;\n  color: #f4f1de;\n}\n#PopUpDiv a {\n  text-decoration: underline;\n  font-style: italic;\n  color: white;\n}\n#PopUpDiv a:hover {\n  cursor: pointer;\n  color: #81b29a;\n}\n#closeButton {\n  padding: 12px;\n  margin-top: 10px;\n  background-color: #f4f1de;\n  color: #3d405b;\n  font-size: 16px;\n}\n#closeButton:hover {\n  cursor: pointer;\n  background-color: #e07a5f;\n  color: #f4f1de;\n}\n#previewBody {\n  background-color: #f4f1de;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n#previewMenu {\n  background-color: #81b29a;\n  overflow-wrap: anywhere;\n  padding: 2% 2% 2.5% 3%;\n  margin: 0;\n  border: 0;\n}\n#previewHeaderText {\n  line-height: 1.4;\n  color: #f4f1de;\n  font-size: 40px;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n#previewArticleHeader {\n  padding: 3% 0 4.5% 3.1%;\n  margin: 0;\n  border: 0;\n}\n#previewName {\n  color: #e07a5f;\n  font-size: 16px;\n  float: left;\n  width: fit-content;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n#previewDivider {\n  color: #f2cc8f;\n  font-size: 16px;\n  float: left;\n  width: fit-content;\n  padding: 0 1.5%;\n  margin: 0;\n  border: 0;\n}\n#previewDate {\n  font-style: italic;\n  color: #e07a5f;\n  font-size: 16px;\n  float: left;\n  width: fit-content;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n#previewArticle {\n  font-size: 18px;\n  line-height: 1.5;\n  overflow-wrap: anywhere;\n  padding: 0 3%;\n  margin: 0;\n  border: 0;\n}\n#previewArticleText {\n  margin: 0;\n  padding: 0;\n  color: #3d405b;\n  white-space: pre-wrap;\n}\n#pageFour {\n  display: none;\n}\n#fourthPageReqDescription {\n  padding: 1% 2% !important;\n}\n.hnstask ol {\n  list-style-position: inside;\n}\n.hnstask li {\n  font-size: 18px;\n  padding-bottom: 0.5%;\n  padding-top: 0.5%;\n}\n#finalText {\n  font-weight: bold;\n  font-size: 22px;\n}\n#Skylink {\n  color: #e07a5f;\n}\n\n.upload {\n  text-align: center !important;\n}\n\n.upload:hover {\n  cursor: pointer;\n}\n",""]),e.default=o},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function i(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,a=[];for(o in"string"!=typeof e&&(e="?"),t)if(r.call(t,o)){if((n=t[o])||null!=n&&!isNaN(n)||(n=""),o=i(o),n=i(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?e+a.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(t,e,n){"use strict";var r=n(0),o=n(11),i=n(29),a=n(17);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(n(14));u.Axios=i,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(18),u.CancelToken=n(42),u.isCancel=n(13),u.all=function(t){return Promise.all(t)},u.spread=n(43),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(30),a=n(31),s=n(17);function u(t){this.defaults=t,this.interceptors={request:new i,response:new i}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(32),i=n(13),a=n(14);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(37),o=n(38);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(18);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(45);e.default=class{constructor(){this.BigNum=(t,e)=>new(r.BigNumber.clone({DECIMAL_PLACES:e}))(t)}winstonToAr(t,{formatted:e=!1,decimals:n=12,trim:r=!0}={}){let o=this.stringToBigNum(t,n).shiftedBy(-12);return e?o.toFormat(n):o.toFixed(n)}arToWinston(t,{formatted:e=!1}={}){let n=this.stringToBigNum(t).shiftedBy(12);return e?n.toFormat():n.toFixed(0)}compare(t,e){let n=this.stringToBigNum(t),r=this.stringToBigNum(e);return n.comparedTo(r)}isEqual(t,e){return 0===this.compare(t,e)}isLessThan(t,e){let n=this.stringToBigNum(t),r=this.stringToBigNum(e);return n.isLessThan(r)}isGreaterThan(t,e){let n=this.stringToBigNum(t),r=this.stringToBigNum(e);return n.isGreaterThan(r)}add(t,e){let n=this.stringToBigNum(t);this.stringToBigNum(e);return n.plus(e).toFixed(0)}sub(t,e){let n=this.stringToBigNum(t);this.stringToBigNum(e);return n.minus(e).toFixed(0)}stringToBigNum(t,e=12){return this.BigNum(t,e)}}},function(t,e,n){var r;!function(o){"use strict";var i,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,u=Math.ceil,c=Math.floor,l="[BigNumber Error] ",f=l+"Number primitive has more than 15 significant digits: ",h=1e14,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e9;function g(t){var e=0|t;return t>0||t===e?e:e-1}function y(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(n=14-(e=t[r++]+"").length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function w(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=o.length)<(c=i.length)?u:c,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function m(t,e,n,r){if(t<e||t>n||t!==c(t))throw Error(l+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function v(t){var e=t.c.length-1;return g(t.e/14)==e&&t.c[e]%2!=0}function b(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function E(t,e,n){var r,o;if(e<0){for(o=n+".";++e;o+=n);t=o+t}else if(++e>(r=t.length)){for(o=n,e-=r;--e;o+=n);t+=o}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}(i=function t(e){var n,r,o,i,T,x,A,S,B,R=z.prototype={constructor:z,toString:null,valueOf:null},_=new z(1),C=20,U=4,O=-7,P=21,k=-1e7,I=1e7,N=!1,j=1,D=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz";function z(t,e){var n,i,s,u,l,h,p,d,g=this;if(!(g instanceof z))return new z(t,e);if(null==e){if(t&&!0===t._isBigNumber)return g.s=t.s,void(!t.c||t.e>I?g.c=g.e=null:t.e<k?g.c=[g.e=0]:(g.e=t.e,g.c=t.c.slice()));if((h="number"==typeof t)&&0*t==0){if(g.s=1/t<0?(t=-t,-1):1,t===~~t){for(u=0,l=t;l>=10;l/=10,u++);return void(u>I?g.c=g.e=null:(g.e=u,g.c=[t]))}d=String(t)}else{if(!a.test(d=String(t)))return o(g,d,h);g.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(u=d.indexOf("."))>-1&&(d=d.replace(".","")),(l=d.search(/e/i))>0?(u<0&&(u=l),u+=+d.slice(l+1),d=d.substring(0,l)):u<0&&(u=d.length)}else{if(m(e,2,M.length,"Base"),10==e)return $(g=new z(t),C+g.e+1,U);if(d=String(t),h="number"==typeof t){if(0*t!=0)return o(g,d,h,e);if(g.s=1/t<0?(d=d.slice(1),-1):1,z.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(f+t)}else g.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(n=M.slice(0,e),u=l=0,p=d.length;l<p;l++)if(n.indexOf(i=d.charAt(l))<0){if("."==i){if(l>u){u=p;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,l=-1,u=0;continue}return o(g,String(t),h,e)}h=!1,(u=(d=r(d,e,10,g.s)).indexOf("."))>-1?d=d.replace(".",""):u=d.length}for(l=0;48===d.charCodeAt(l);l++);for(p=d.length;48===d.charCodeAt(--p););if(d=d.slice(l,++p)){if(p-=l,h&&z.DEBUG&&p>15&&(t>9007199254740991||t!==c(t)))throw Error(f+g.s*t);if((u=u-l-1)>I)g.c=g.e=null;else if(u<k)g.c=[g.e=0];else{if(g.e=u,g.c=[],l=(u+1)%14,u<0&&(l+=14),l<p){for(l&&g.c.push(+d.slice(0,l)),p-=14;l<p;)g.c.push(+d.slice(l,l+=14));l=14-(d=d.slice(l)).length}else l-=p;for(;l--;d+="0");g.c.push(+d)}}else g.c=[g.e=0]}function F(t,e,n,r){var o,i,a,s,u;if(null==n?n=U:m(n,0,8),!t.c)return t.toString();if(o=t.c[0],a=t.e,null==e)u=y(t.c),u=1==r||2==r&&(a<=O||a>=P)?b(u,a):E(u,a,"0");else if(i=(t=$(new z(t),e,n)).e,s=(u=y(t.c)).length,1==r||2==r&&(e<=i||i<=O)){for(;s<e;u+="0",s++);u=b(u,i)}else if(e-=a,u=E(u,i,"0"),i+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=i-s)>0)for(i+1==s&&(u+=".");e--;u+="0");return t.s<0&&o?"-"+u:u}function H(t,e){for(var n,r=1,o=new z(t[0]);r<t.length;r++){if(!(n=new z(t[r])).s){o=n;break}e.call(o,n)&&(o=n)}return o}function q(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+14*n-1)>I?t.c=t.e=null:n<k?t.c=[t.e=0]:(t.e=n,t.c=e),t}function $(t,e,n,r){var o,i,a,s,l,f,d,g=t.c,y=p;if(g){t:{for(o=1,s=g[0];s>=10;s/=10,o++);if((i=e-o)<0)i+=14,a=e,d=(l=g[f=0])/y[o-a-1]%10|0;else if((f=u((i+1)/14))>=g.length){if(!r)break t;for(;g.length<=f;g.push(0));l=d=0,o=1,a=(i%=14)-14+1}else{for(l=s=g[f],o=1;s>=10;s/=10,o++);d=(a=(i%=14)-14+o)<0?0:l/y[o-a-1]%10|0}if(r=r||e<0||null!=g[f+1]||(a<0?l:l%y[o-a-1]),r=n<4?(d||r)&&(0==n||n==(t.s<0?3:2)):d>5||5==d&&(4==n||r||6==n&&(i>0?a>0?l/y[o-a]:0:g[f-1])%10&1||n==(t.s<0?8:7)),e<1||!g[0])return g.length=0,r?(e-=t.e+1,g[0]=y[(14-e%14)%14],t.e=-e||0):g[0]=t.e=0,t;if(0==i?(g.length=f,s=1,f--):(g.length=f+1,s=y[14-i],g[f]=a>0?c(l/y[o-a]%y[a])*s:0),r)for(;;){if(0==f){for(i=1,a=g[0];a>=10;a/=10,i++);for(a=g[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(t.e++,g[0]==h&&(g[0]=1));break}if(g[f]+=s,g[f]!=h)break;g[f--]=0,s=1}for(i=g.length;0===g[--i];g.pop());}t.e>I?t.c=t.e=null:t.e<k&&(t.c=[t.e=0])}return t}function K(t){var e,n=t.e;return null===n?t.toString():(e=y(t.c),e=n<=O||n>=P?b(e,n):E(e,n,"0"),t.s<0?"-"+e:e)}return z.clone=t,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(l+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(m(n=t[e],0,d,e),C=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(m(n=t[e],0,8,e),U=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(m(n[0],-d,0,e),m(n[1],0,d,e),O=n[0],P=n[1]):(m(n,-d,d,e),O=-(P=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)m(n[0],-d,-1,e),m(n[1],1,d,e),k=n[0],I=n[1];else{if(m(n,-d,d,e),!n)throw Error(l+e+" cannot be zero: "+n);k=-(I=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(l+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!n,Error(l+"crypto unavailable");N=n}else N=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(m(n=t[e],0,9,e),j=n),t.hasOwnProperty(e="POW_PRECISION")&&(m(n=t[e],0,d,e),D=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(l+e+" not an object: "+n);L=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(l+e+" invalid: "+n);M=n}}return{DECIMAL_PLACES:C,ROUNDING_MODE:U,EXPONENTIAL_AT:[O,P],RANGE:[k,I],CRYPTO:N,MODULO_MODE:j,POW_PRECISION:D,FORMAT:L,ALPHABET:M}},z.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!z.DEBUG)return!0;var e,n,r=t.c,o=t.e,i=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===i||-1===i)&&o>=-d&&o<=d&&o===c(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break t}if((e=(o+1)%14)<1&&(e+=14),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=h||n!==c(n))break t;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(l+"Invalid BigNumber: "+t)},z.maximum=z.max=function(){return H(arguments,R.lt)},z.minimum=z.min=function(){return H(arguments,R.gt)},z.random=(i=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,o,a,s=0,f=[],h=new z(_);if(null==t?t=C:m(t,0,d),o=u(t/14),N)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(o*=2));s<o;)(a=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(f.push(a%1e14),s+=2);s=o/2}else{if(!crypto.randomBytes)throw N=!1,Error(l+"crypto unavailable");for(e=crypto.randomBytes(o*=7);s<o;)(a=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(f.push(a%1e14),s+=7);s=o/7}if(!N)for(;s<o;)(a=i())<9e15&&(f[s++]=a%1e14);for(t%=14,(o=f[--s])&&t&&(a=p[14-t],f[s]=c(o/a)*a);0===f[s];f.pop(),s--);if(s<0)f=[r=0];else{for(r=-1;0===f[0];f.splice(0,1),r-=14);for(s=1,a=f[0];a>=10;a/=10,s++);s<14&&(r-=14-s)}return h.e=r,h.c=f,h}),z.sum=function(){for(var t=1,e=arguments,n=new z(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){function t(t,e,n,r){for(var o,i,a=[0],s=0,u=t.length;s<u;){for(i=a.length;i--;a[i]*=e);for(a[0]+=r.indexOf(t.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(e,r,o,i,a){var s,u,c,l,f,h,p,d,g=e.indexOf("."),w=C,m=U;for(g>=0&&(l=D,D=0,e=e.replace(".",""),h=(d=new z(r)).pow(e.length-g),D=l,d.c=t(E(y(h.c),h.e,"0"),10,o,"0123456789"),d.e=d.c.length),c=l=(p=t(e,r,o,a?(s=M,"0123456789"):(s="0123456789",M))).length;0==p[--l];p.pop());if(!p[0])return s.charAt(0);if(g<0?--c:(h.c=p,h.e=c,h.s=i,p=(h=n(h,d,w,m,o)).c,f=h.r,c=h.e),g=p[u=c+w+1],l=o/2,f=f||u<0||null!=p[u+1],f=m<4?(null!=g||f)&&(0==m||m==(h.s<0?3:2)):g>l||g==l&&(4==m||f||6==m&&1&p[u-1]||m==(h.s<0?8:7)),u<1||!p[0])e=f?E(s.charAt(1),-w,s.charAt(0)):s.charAt(0);else{if(p.length=u,f)for(--o;++p[--u]>o;)p[u]=0,u||(++c,p=[1].concat(p));for(l=p.length;!p[--l];);for(g=0,e="";g<=l;e+=s.charAt(p[g++]));e=E(e,c,s.charAt(0))}return e}}(),n=function(){function t(t,e,n){var r,o,i,a,s=0,u=t.length,c=e%1e7,l=e/1e7|0;for(t=t.slice();u--;)s=((o=c*(i=t[u]%1e7)+(r=l*i+(a=t[u]/1e7|0)*c)%1e7*1e7+s)/n|0)+(r/1e7|0)+l*a,t[u]=o%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function n(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,o,i,a,s){var u,l,f,p,d,y,w,m,v,b,E,T,x,A,S,B,R,_=r.s==o.s?1:-1,C=r.c,U=o.c;if(!(C&&C[0]&&U&&U[0]))return new z(r.s&&o.s&&(C?!U||C[0]!=U[0]:U)?C&&0==C[0]||!U?0*_:_/0:NaN);for(v=(m=new z(_)).c=[],_=i+(l=r.e-o.e)+1,s||(s=h,l=g(r.e/14)-g(o.e/14),_=_/14|0),f=0;U[f]==(C[f]||0);f++);if(U[f]>(C[f]||0)&&l--,_<0)v.push(1),p=!0;else{for(A=C.length,B=U.length,f=0,_+=2,(d=c(s/(U[0]+1)))>1&&(U=t(U,d,s),C=t(C,d,s),B=U.length,A=C.length),x=B,E=(b=C.slice(0,B)).length;E<B;b[E++]=0);R=U.slice(),R=[0].concat(R),S=U[0],U[1]>=s/2&&S++;do{if(d=0,(u=e(U,b,B,E))<0){if(T=b[0],B!=E&&(T=T*s+(b[1]||0)),(d=c(T/S))>1)for(d>=s&&(d=s-1),w=(y=t(U,d,s)).length,E=b.length;1==e(y,b,w,E);)d--,n(y,B<w?R:U,w,s),w=y.length,u=1;else 0==d&&(u=d=1),w=(y=U.slice()).length;if(w<E&&(y=[0].concat(y)),n(b,y,E,s),E=b.length,-1==u)for(;e(U,b,B,E)<1;)d++,n(b,B<E?R:U,E,s),E=b.length}else 0===u&&(d++,b=[0]);v[f++]=d,b[0]?b[E++]=C[x]||0:(b=[C[x]],E=1)}while((x++<A||null!=b[0])&&_--);p=null!=b[0],v[0]||v.splice(0,1)}if(s==h){for(f=1,_=v[0];_>=10;_/=10,f++);$(m,i+(m.e=f+14*l-1)+1,a,p)}else m.e=l,m.r=+p;return m}}(),T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,A=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(t,e,n,r){var o,i=n?e:e.replace(B,"");if(S.test(i))t.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(T,(function(t,e,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?t:e})),r&&(o=r,i=i.replace(x,"$1").replace(A,"0.$1")),e!=i))return new z(i,o);if(z.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},R.absoluteValue=R.abs=function(){var t=new z(this);return t.s<0&&(t.s=1),t},R.comparedTo=function(t,e){return w(this,new z(t,e))},R.decimalPlaces=R.dp=function(t,e){var n,r,o,i=this;if(null!=t)return m(t,0,d),null==e?e=U:m(e,0,8),$(new z(i),t+i.e+1,e);if(!(n=i.c))return null;if(r=14*((o=n.length-1)-g(this.e/14)),o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},R.dividedBy=R.div=function(t,e){return n(this,new z(t,e),C,U)},R.dividedToIntegerBy=R.idiv=function(t,e){return n(this,new z(t,e),0,1)},R.exponentiatedBy=R.pow=function(t,e){var n,r,o,i,a,s,f,h,p=this;if((t=new z(t)).c&&!t.isInteger())throw Error(l+"Exponent not an integer: "+K(t));if(null!=e&&(e=new z(e)),a=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return h=new z(Math.pow(+K(p),a?2-v(t):+K(t))),e?h.mod(e):h;if(s=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new z(NaN);(r=!s&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||a&&p.c[1]>=24e7:p.c[0]<8e13||a&&p.c[0]<=9999975e7)))return i=p.s<0&&v(t)?-0:0,p.e>-1&&(i=1/i),new z(s?1/i:i);D&&(i=u(D/14+2))}for(a?(n=new z(.5),s&&(t.s=1),f=v(t)):f=(o=Math.abs(+K(t)))%2,h=new z(_);;){if(f){if(!(h=h.times(p)).c)break;i?h.c.length>i&&(h.c.length=i):r&&(h=h.mod(e))}if(o){if(0===(o=c(o/2)))break;f=o%2}else if($(t=t.times(n),t.e+1,1),t.e>14)f=v(t);else{if(0===(o=+K(t)))break;f=o%2}p=p.times(p),i?p.c&&p.c.length>i&&(p.c.length=i):r&&(p=p.mod(e))}return r?h:(s&&(h=_.div(h)),e?h.mod(e):i?$(h,D,U,void 0):h)},R.integerValue=function(t){var e=new z(this);return null==t?t=U:m(t,0,8),$(e,e.e+1,t)},R.isEqualTo=R.eq=function(t,e){return 0===w(this,new z(t,e))},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(t,e){return w(this,new z(t,e))>0},R.isGreaterThanOrEqualTo=R.gte=function(t,e){return 1===(e=w(this,new z(t,e)))||0===e},R.isInteger=function(){return!!this.c&&g(this.e/14)>this.c.length-2},R.isLessThan=R.lt=function(t,e){return w(this,new z(t,e))<0},R.isLessThanOrEqualTo=R.lte=function(t,e){return-1===(e=w(this,new z(t,e)))||0===e},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.minus=function(t,e){var n,r,o,i,a=this,s=a.s;if(e=(t=new z(t,e)).s,!s||!e)return new z(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/14,c=t.e/14,l=a.c,f=t.c;if(!u||!c){if(!l||!f)return l?(t.s=-e,t):new z(f?a:NaN);if(!l[0]||!f[0])return f[0]?(t.s=-e,t):new z(l[0]?a:3==U?-0:0)}if(u=g(u),c=g(c),l=l.slice(),s=u-c){for((i=s<0)?(s=-s,o=l):(c=u,o=f),o.reverse(),e=s;e--;o.push(0));o.reverse()}else for(r=(i=(s=l.length)<(e=f.length))?s:e,s=e=0;e<r;e++)if(l[e]!=f[e]){i=l[e]<f[e];break}if(i&&(o=l,l=f,f=o,t.s=-t.s),(e=(r=f.length)-(n=l.length))>0)for(;e--;l[n++]=0);for(e=h-1;r>s;){if(l[--r]<f[r]){for(n=r;n&&!l[--n];l[n]=e);--l[n],l[r]+=h}l[r]-=f[r]}for(;0==l[0];l.splice(0,1),--c);return l[0]?q(t,l,c):(t.s=3==U?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var r,o,i=this;return t=new z(t,e),!i.c||!t.s||t.c&&!t.c[0]?new z(NaN):!t.c||i.c&&!i.c[0]?new z(i):(9==j?(o=t.s,t.s=1,r=n(i,t,0,3),t.s=o,r.s*=o):r=n(i,t,0,j),(t=i.minus(r.times(t))).c[0]||1!=j||(t.s=i.s),t)},R.multipliedBy=R.times=function(t,e){var n,r,o,i,a,s,u,c,l,f,p,d,y,w,m=this,v=m.c,b=(t=new z(t,e)).c;if(!(v&&b&&v[0]&&b[0]))return!m.s||!t.s||v&&!v[0]&&!b||b&&!b[0]&&!v?t.c=t.e=t.s=null:(t.s*=m.s,v&&b?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=g(m.e/14)+g(t.e/14),t.s*=m.s,(u=v.length)<(f=b.length)&&(y=v,v=b,b=y,o=u,u=f,f=o),o=u+f,y=[];o--;y.push(0));for(w=h,1e7,o=f;--o>=0;){for(n=0,p=b[o]%1e7,d=b[o]/1e7|0,i=o+(a=u);i>o;)n=((c=p*(c=v[--a]%1e7)+(s=d*c+(l=v[a]/1e7|0)*p)%1e7*1e7+y[i]+n)/w|0)+(s/1e7|0)+d*l,y[i--]=c%w;y[i]=n}return n?++r:y.splice(0,1),q(t,y,r)},R.negated=function(){var t=new z(this);return t.s=-t.s||null,t},R.plus=function(t,e){var n,r=this,o=r.s;if(e=(t=new z(t,e)).s,!o||!e)return new z(NaN);if(o!=e)return t.s=-e,r.minus(t);var i=r.e/14,a=t.e/14,s=r.c,u=t.c;if(!i||!a){if(!s||!u)return new z(o/0);if(!s[0]||!u[0])return u[0]?t:new z(s[0]?r:0*o)}if(i=g(i),a=g(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=u):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(e=u.length)<0&&(n=u,u=s,s=n,e=o),o=0;e;)o=(s[--e]=s[e]+u[e]+o)/h|0,s[e]=h===s[e]?0:s[e]%h;return o&&(s=[o].concat(s),++a),q(t,s,a)},R.precision=R.sd=function(t,e){var n,r,o,i=this;if(null!=t&&t!==!!t)return m(t,1,d),null==e?e=U:m(e,0,8),$(new z(i),t,e);if(!(n=i.c))return null;if(r=14*(o=n.length-1)+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return t&&i.e+1>r&&(r=i.e+1),r},R.shiftedBy=function(t){return m(t,-9007199254740991,9007199254740991),this.times("1e"+t)},R.squareRoot=R.sqrt=function(){var t,e,r,o,i,a=this,s=a.c,u=a.s,c=a.e,l=C+4,f=new z("0.5");if(1!==u||!s||!s[0])return new z(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+K(a)))||u==1/0?(((e=y(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=g((c+1)/2)-(c<0||c%2),r=new z(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new z(u+""),r.c[0])for((u=(c=r.e)+l)<3&&(u=0);;)if(i=r,r=f.times(i.plus(n(a,i,l,1))),y(i.c).slice(0,u)===(e=y(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(o||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(r,r.e+C+2,1),t=!r.times(r).eq(a));break}if(!o&&($(i,i.e+C+2,0),i.times(i).eq(a))){r=i;break}l+=4,u+=4,o=1}return $(r,r.e+C+1,U,t)},R.toExponential=function(t,e){return null!=t&&(m(t,0,d),t++),F(this,t,e,1)},R.toFixed=function(t,e){return null!=t&&(m(t,0,d),t=t+this.e+1),F(this,t,e)},R.toFormat=function(t,e,n){var r,o=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=L;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=o.toFixed(t,e),o.c){var i,a=r.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,c=n.groupSeparator||"",f=a[0],h=a[1],p=o.s<0,d=p?f.slice(1):f,g=d.length;if(u&&(i=s,s=u,u=i,g-=i),s>0&&g>0){for(i=g%s||s,f=d.substr(0,i);i<g;i+=s)f+=c+d.substr(i,s);u>0&&(f+=c+d.slice(i)),p&&(f="-"+f)}r=h?f+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):f}return(n.prefix||"")+r+(n.suffix||"")},R.toFraction=function(t){var e,r,o,i,a,s,u,c,f,h,d,g,w=this,m=w.c;if(null!=t&&(!(u=new z(t)).isInteger()&&(u.c||1!==u.s)||u.lt(_)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+K(u));if(!m)return new z(w);for(e=new z(_),f=r=new z(_),o=c=new z(_),g=y(m),a=e.e=g.length-w.e-1,e.c[0]=p[(s=a%14)<0?14+s:s],t=!t||u.comparedTo(e)>0?a>0?e:f:u,s=I,I=1/0,u=new z(g),c.c[0]=0;h=n(u,e,0,1),1!=(i=r.plus(h.times(o))).comparedTo(t);)r=o,o=i,f=c.plus(h.times(i=f)),c=i,e=u.minus(h.times(i=e)),u=i;return i=n(t.minus(r),o,0,1),c=c.plus(i.times(f)),r=r.plus(i.times(o)),c.s=f.s=w.s,d=n(f,o,a*=2,U).minus(w).abs().comparedTo(n(c,r,a,U).minus(w).abs())<1?[f,o]:[c,r],I=s,d},R.toNumber=function(){return+K(this)},R.toPrecision=function(t,e){return null!=t&&m(t,1,d),F(this,t,e,2)},R.toString=function(t){var e,n=this,o=n.s,i=n.e;return null===i?o?(e="Infinity",o<0&&(e="-"+e)):e="NaN":(null==t?e=i<=O||i>=P?b(y(n.c),i):E(y(n.c),i,"0"):10===t?e=E(y((n=$(new z(n),C+i+1,U)).c),n.e,"0"):(m(t,2,M.length,"Base"),e=r(E(y(n.c),i,"0"),10,t,o,!0)),o<0&&n.c[0]&&(e="-"+e)),e},R.valueOf=R.toJSON=function(){return K(this)},R._isBigNumber=!0,s&&(R[Symbol.toStringTag]="BigNumber",R[Symbol.for("nodejs.util.inspect.custom")]=R.valueOf),null!=e&&z.set(e),z}()).default=i.BigNumber=i,void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5);e.default=class{constructor(t){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(t)}applyConfig(t){this.config=this.mergeDefaults(t)}getConfig(){return this.config}mergeDefaults(t){const e=t.protocol||"http",n=t.port||("https"===e?443:80);return{host:t.host||"127.0.0.1",protocol:e,port:n,timeout:t.timeout||2e4,logging:t.logging||!1,logger:t.logger||console.log}}async get(t,e){try{return await this.request().get(t,e)}catch(t){if(t.response&&t.response.status)return t.response;throw t}}async post(t,e,n){try{return await this.request().post(t,e,n)}catch(t){if(t.response&&t.response.status)return t.response;throw t}}request(){let t=r.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(t.interceptors.request.use(t=>(this.config.logger(`Requesting: ${t.baseURL}/${t.url}`),t)),t.interceptors.response.use(t=>(this.config.logger(`Response:   ${t.config.url} - ${t.status}`),t))),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.api=t}getInfo(){return this.api.get("info").then(t=>t.data)}getPeers(){return this.api.get("peers").then(t=>t.data)}}},function(t,e,n){"use strict";var r=this&&this.__await||function(t){return this instanceof r?(this.v=t,this):new r(t)},o=this&&this.__asyncGenerator||function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(t,e||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(t){i[t]&&(o[t]=function(e){return new Promise((function(n,r){a.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=i[t](e)).value instanceof r?Promise.resolve(n.value.v).then(c,l):f(a[0][2],n)}catch(t){f(a[0][3],t)}var n}function c(t){u("next",t)}function l(t){u("throw",t)}function f(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(7),a=n(8),s=n(1),u=n(55);e.default=class{constructor(t,e,n){this.api=t,this.crypto=e,this.chunks=n}getTransactionAnchor(){return this.api.get("tx_anchor").then(t=>t.data)}getPrice(t,e){let n=e?`price/${t}/${e}`:"price/"+t;return this.api.get(n,{transformResponse:[function(t){return t}]}).then(t=>t.data)}async get(t){const e=await this.api.get("tx/"+t);if(200==e.status){const n=parseInt(e.data.data_size);if(e.data.format>=2&&n>0&&n<=12582912){const n=await this.getData(t);return new a.default(Object.assign(Object.assign({},e.data),{data:n}))}return new a.default(Object.assign(Object.assign({},e.data),{format:e.data.format||1}))}if(202==e.status)throw new i.default("TX_PENDING");if(404==e.status)throw new i.default("TX_NOT_FOUND");if(410==e.status)throw new i.default("TX_FAILED");throw new i.default("TX_INVALID")}fromRaw(t){return new a.default(t)}async search(t,e){return this.api.post("arql",{op:"equals",expr1:t,expr2:e}).then(t=>t.data?t.data:[])}getStatus(t){return this.api.get(`tx/${t}/status`).then(t=>200==t.status?{status:200,confirmed:t.data}:{status:t.status,confirmed:null})}async getData(t,e){const n=await this.api.get(""+t,{responseType:"arraybuffer"});let r=void 0;if(200===n.status&&(r=new Uint8Array(n.data)),400===n.status&&"tx_data_too_big"===i.getError(n)&&(r=await this.chunks.downloadChunkedData(t)),!r){if(202==n.status)throw new i.default("TX_PENDING");if(404==n.status)throw new i.default("TX_NOT_FOUND");if(410==n.status)throw new i.default("TX_FAILED");throw new Error(`Unable to get data: ${n.status} - ${i.getError(n)}`)}return e&&e.decode&&!e.string?r:e&&e.decode&&e.string?s.bufferToString(r):s.bufferTob64Url(r)}async sign(t,e){let n=await t.getSignatureData(),r=await this.crypto.sign(e,n),o=await this.crypto.hash(r);t.setSignature({signature:s.bufferTob64Url(r),id:s.bufferTob64Url(o)})}async verify(t){const e=await t.getSignatureData(),n=t.get("signature",{decode:!0,string:!1}),r=s.bufferTob64Url(await this.crypto.hash(n));if(t.id!==r)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(t.owner,e,n)}async post(t){if("string"==typeof t?t=new a.default(JSON.parse(t)):"function"==typeof t.readInt32BE?t=new a.default(JSON.parse(t.toString())):"object"!=typeof t||t instanceof a.default||(t=new a.default(t)),!(t instanceof a.default))throw new Error("Must be Transaction object");t.chunks||await t.prepareChunks(t.data);const e=await this.getUploader(t);try{for(;!e.isComplete;)await e.uploadChunk()}catch(t){if(e.lastResponseStatus>0)return{status:e.lastResponseStatus,statusText:e.lastResponseError,data:{error:e.lastResponseError}};throw t}return{status:200,statusText:"OK",data:{}}}async getUploader(t,e){let n;if(t instanceof a.default)n=new u.TransactionUploader(this.api,t);else{if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),!(e&&e instanceof Uint8Array))throw new Error("Must provide data when resuming upload");"string"==typeof t&&(t=await u.TransactionUploader.fromTransactionId(this.api,t)),n=await u.TransactionUploader.fromSerialized(this.api,t,e)}return n}upload(t,e){return o(this,arguments,(function*(){const n=yield r(this.getUploader(t,e));for(;!n.isComplete;)yield r(n.uploadChunk()),yield yield r(n);return yield r(n)}))}}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(3);async function o(t){if(Array.isArray(t)){const e=r.default.utils.concatBuffers([r.default.utils.stringToBuffer("list"),r.default.utils.stringToBuffer(t.length.toString())]);return await async function t(e,n){if(e.length<1)return n;const i=r.default.utils.concatBuffers([n,await o(e[0])]),a=await r.default.crypto.hash(i,"SHA-384");return await t(e.slice(1),a)}(t,await r.default.crypto.hash(e,"SHA-384"))}const e=r.default.utils.concatBuffers([r.default.utils.stringToBuffer("blob"),r.default.utils.stringToBuffer(t.byteLength.toString())]),n=r.default.utils.concatBuffers([await r.default.crypto.hash(e,"SHA-384"),await r.default.crypto.hash(t,"SHA-384")]);return await r.default.crypto.hash(n,"SHA-384")}e.default=o},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(19),o=n(53),i=n(54);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return B(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function v(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return H(z(e,t.length-n),t,n,r)}function E(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return E(t,e,n,r)}function x(t,e,n,r){return H(F(e),t,n,r)}function A(t,e,n,r){return H(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function _(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=M(t[i]);return o}function U(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function O(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function k(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,i){return i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,i){return i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||O(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||O(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||O(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||O(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||O(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||O(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||O(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||O(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:z(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(10))},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionUploader=void 0;const r=n(8),o=n(1),i=n(7),a=n(20),s=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"];class u{constructor(t,e){if(this.api=t,this.chunkIndex=0,this.txPosted=!1,this.lastRequestTimeEnd=0,this.totalErrors=0,this.lastResponseStatus=0,this.lastResponseError="",!e.id)throw new Error("Transaction is not signed");if(!e.chunks)throw new Error("Transaction chunks not prepared");this.data=e.data,this.transaction=new r.default(Object.assign({},e,{data:new Uint8Array(0)}))}get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}async uploadChunk(){if(this.isComplete)throw new Error("Upload is already complete");if(""!==this.lastResponseError?this.totalErrors++:this.totalErrors=0,100===this.totalErrors)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let t=""===this.lastResponseError?0:Math.max(this.lastRequestTimeEnd+4e4-Date.now(),4e4);if(t>0&&(t-=t*Math.random()*.3,await new Promise(e=>setTimeout(e,t))),this.lastResponseError="",!this.txPosted)return void await this.postTransaction();const e=this.transaction.getChunk(this.chunkIndex,this.data);if(!await a.validatePath(this.transaction.chunks.data_root,parseInt(e.offset),0,parseInt(e.data_size),o.b64UrlToBuffer(e.data_path)))throw new Error("Unable to validate chunk "+this.chunkIndex);const n=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(t=>(console.error(t.message),{status:-1,data:{error:t.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=n.status,200==this.lastResponseStatus)this.chunkIndex++;else if(this.lastResponseError=i.getError(n),s.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(t,e,n){if(!e||"number"!=typeof e.chunkIndex||"object"!=typeof e.transaction)throw new Error("Serialized object does not match expected format.");const o=new u(t,new r.default(e.transaction));if(o.chunkIndex=e.chunkIndex,o.lastRequestTimeEnd=e.lastRequestTimeEnd,o.lastResponseError=e.lastResponseError,o.lastResponseStatus=e.lastResponseStatus,o.txPosted=e.txPosted,o.data=n,await o.transaction.prepareChunks(n),o.transaction.data_root!==e.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return o}static async fromTransactionId(t,e){const n=await t.get("tx/"+e);if(200!==n.status)throw new Error(`Tx ${e} not found: ${n.status}`);const r=n.data;r.data=new Uint8Array(0);return{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:r}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=1){this.transaction.data=this.data;const t=await this.api.post("tx",this.transaction).catch(t=>(console.error(t),{status:-1,data:{error:t.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,this.transaction.data=new Uint8Array(0),t.status>=200&&t.status<300)return this.txPosted=!0,void(this.chunkIndex=1);throw this.lastResponseError=i.getError(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`)}const t=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=t.status,!(t.status>=200&&t.status<300))throw this.lastResponseError=i.getError(t),new Error(`Unable to upload transaction: ${t.status}, ${this.lastResponseError}`);this.txPosted=!0}}e.TransactionUploader=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);e.default=class{constructor(t,e){this.api=t,this.crypto=e}getBalance(t){return this.api.get(`wallet/${t}/balance`,{transformResponse:[function(t){return t}]}).then(t=>t.data)}getLastTransactionID(t){return this.api.get(`wallet/${t}/last_tx`).then(t=>t.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(t){return this.ownerToAddress(t.n)}async ownerToAddress(t){return r.bufferTob64Url(await this.crypto.hash(r.b64UrlToBuffer(t)))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SiloResource=void 0;const r=n(1);e.default=class{constructor(t,e,n){this.api=t,this.crypto=e,this.transactions=n}async get(t){if(!t)throw new Error("No Silo URI specified");const e=await this.parseUri(t),n=await this.transactions.search("Silo-Name",e.getAccessKey());if(0==n.length)throw new Error("No data could be found for the Silo URI: "+t);const r=await this.transactions.get(n[0]);if(!r)throw new Error("No data could be found for the Silo URI: "+t);const o=r.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,e.getEncryptionKey())}async readTransactionData(t,e){if(!e)throw new Error("No Silo URI specified");const n=await this.parseUri(e),r=t.get("data",{decode:!0,string:!1});return this.crypto.decrypt(r,n.getEncryptionKey())}async parseUri(t){const e=t.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!e)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=e[1],i=Math.pow(2,parseInt(e[2])),a=await this.hash(r.stringToBuffer(n),i),s=r.bufferTob64(a.slice(0,15)),u=await this.hash(a.slice(16,31),1);return new o(t,s,u)}async hash(t,e){let n=await this.crypto.hash(t);for(let t=0;t<e-1;t++)n=await this.crypto.hash(n);return n}};class o{constructor(t,e,n){this.uri=t,this.accessKey=e,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}e.SiloResource=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7),o=n(1);e.default=class{constructor(t){this.api=t}async getTransactionOffset(t){const e=await this.api.get(`tx/${t}/offset`);if(200===e.status)return e.data;throw new Error("Unable to get transaction offset: "+r.getError(e))}async getChunk(t){const e=await this.api.get("chunk/"+t);if(200===e.status)return e.data;throw new Error("Unable to get chunk: "+r.getError(e))}async getChunkData(t){const e=await this.getChunk(t);return o.b64UrlToBuffer(e.chunk)}firstChunkOffset(t){return parseInt(t.offset)-parseInt(t.size)+1}async downloadChunkedData(t){const e=await this.getTransactionOffset(t),n=parseInt(e.size),r=parseInt(e.offset),o=r-n+1,i=new Uint8Array(n);let a=0;for(;o+a<r;){const t=await this.getChunkData(o+a);i.set(t,a),a+=t.length}return i}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1);e.default=class{constructor(){if(this.keyLength=4096,this.publicExponent=65537,this.hashAlgorithm="sha256",!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=window.crypto.subtle}async generateJWK(){let t=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),e=await this.driver.exportKey("jwk",t.privateKey);return{kty:e.kty,e:e.e,n:e.n,d:e.d,p:e.p,q:e.q,dp:e.dp,dq:e.dq,qi:e.qi}}async sign(t,e){let n=await this.driver.sign({name:"RSA-PSS",saltLength:0},await this.jwkToCryptoKey(t),e);return new Uint8Array(n)}async hash(t,e="SHA-256"){let n=await this.driver.digest(e,t);return new Uint8Array(n)}async verify(t,e,n){const r={kty:"RSA",e:"AQAB",n:t},o=await this.jwkToPublicCryptoKey(r);return this.driver.verify({name:"RSA-PSS",saltLength:0},o,n,e)}async jwkToCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(t){return this.driver.importKey("jwk",t,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(!window||!window.crypto||!window.crypto.subtle)return!1;let t=window.crypto.subtle;return"function"==typeof t.generateKey&&("function"==typeof t.importKey&&("function"==typeof t.exportKey&&("function"==typeof t.digest&&"function"==typeof t.sign)))}async encrypt(t,e){const n=await this.driver.importKey("raw","string"==typeof e?r.stringToBuffer(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=r.stringToBuffer("salt"),i=await this.driver.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=new Uint8Array(16);crypto.getRandomValues(a);const s=await this.driver.encrypt({name:"AES-CBC",iv:a},i,t);return r.concatBuffers([a,s])}async decrypt(t,e){const n=await this.driver.importKey("raw","string"==typeof e?r.stringToBuffer(e):e,{name:"PBKDF2",length:32},!1,["deriveKey"]),o=r.stringToBuffer("salt"),i=await this.driver.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},n,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),a=t.slice(0,16),s=await this.driver.decrypt({name:"AES-CBC",iv:a},i,t.slice(16));return r.concatBuffers([s])}}},function(t,e,n){"use strict";n.r(e);n(23);var r=n(2),o=n.n(r),i=n(9),a=n.n(i);function s(t){return{endpointPath:t}}function u(t,e,n={}){const r=a()(t);return r.set("pathname",e),r.set("query",n),r.toString()}function c(t,e,n,r={}){const i=function(t=""){if("string"!=typeof t)throw new Error(`Skylink has to be a string, ${typeof t} provided`);const e=t.match(l);if(e)return e[1];const n=t.match(f);if(n)return n[1];const r=a()(t).pathname.match(h);if(r)return r[1];throw new Error(`Could not extract skylink from '${t}'`)}(n);return u(t,o.a.posix.join(e,i),r)}const l=new RegExp("^([a-zA-Z0-9_-]{46})$"),f=new RegExp("^sia:(?://)?([a-zA-Z0-9_-]{46})$"),h=new RegExp("^/([a-zA-Z0-9_-]{46})");class p{constructor(t=null){var e;null===t&&(t=(e=new URL(window.location.href)).href.substring(0,e.href.indexOf(e.pathname))),this.portalUrl=t}}const d={...s("/")};p.prototype.download=function(t,e={}){const n={...d,...e,download:!0},r=this.getDownloadUrl(t,n);window.open(r,"_blank")},p.prototype.getDownloadUrl=function(t,e={}){const n={...d,...e},r=n.download?{attachment:!0}:{};return c(this.portalUrl,n.endpointPath,t,r)},p.prototype.metadata=function(t,e={}){throw new Error("Unimplemented")},p.prototype.open=function(t,e={}){const n={...d,...e},r=c(this.portalUrl,n.endpointPath,t);window.open(r,"_blank")};var g=n(5),y=n.n(g);const w={...s("/skynet/skyfile"),portalFileFieldname:"file",portalDirectoryFileFieldname:"files[]"};function m(t){return new File([t],t.name,{type:t.type})}p.prototype.upload=async function(t,e={}){const n={...w,...e},r=new FormData;r.append(n.portalFileFieldname,m(t));const o=u(this.portalUrl,n.endpointPath),{data:i}=await y.a.post(o,r,n.onUploadProgress&&{onUploadProgress:({loaded:t,total:e})=>{const r=t/e;n.onUploadProgress(r,{loaded:t,total:e})}});return i},p.prototype.uploadDirectory=async function(t,e,n={}){const r={...w,...n},o=new FormData;Object.entries(t).forEach(([t,e])=>{o.append(r.portalDirectoryFileFieldname,m(e),t)});const i=u(this.portalUrl,r.endpointPath,{filename:e}),{data:a}=await y.a.post(i,o,r.onUploadProgress&&{onUploadProgress:({loaded:t,total:e})=>{const n=t/e;r.onUploadProgress(n,{loaded:t,total:e})}});return a};var v=n(22),b=n.n(v);new p;const E=b.a.init();window.createBlogPage=function(t,e,n){const r='\n\t\t<!DOCTYPE html> \n\t\t\t<html xmlns:th="http://www.thymeleaf.org"> \n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="ISO-8859-1" />\n\t\t\t\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge" />\n\t\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1" />\n\t\t\t\t\t<link rel="stylesheet" th:href="@{/css/PreviewTest.css}" />\n\t\t\t\t\t<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">\n\t\t\t\t\t<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kaushan Script">\n\t\t\t\t\t<script src="https://kit.fontawesome.com/eb858c52f5.js"><\/script>\n\t\t\t\t\t<title>'+n+'</title>\n\t\t\t\t</head>\n\t\t\t\t<body id="previewBody" style="padding: 0px; margin: 0px; border: 0px; background-color: '+e+'">'+t+"</body> </html>";console.log(r);new File([r],"index.html",{type:"text/html"});let o=JSON.parse(localStorage.getItem("wallet"));try{(async()=>{let t=await E.createTransaction({data:r},o);t.addTag("Content-Type","text/html"),await E.transactions.sign(t,o);const e=await E.transactions.post(t);console.log("res",e,t)})()}catch(t){console.log(t)}},window.makeFile=function(){var t=document.getElementById("previewFrame"),e=document.implementation.createHTMLDocument("Preview.html");e.body.style.backgroundColor=t.contentWindow.document.body.style.backgroundColor,e.body.style.padding="0",e.body.style.margin="0",e.body.style.border="0";var n=e.createElement("div");n.style.backgroundColor=t.contentWindow.document.getElementById("previewMenu").style.backgroundColor,n.style.overflowWrap="anywhere",n.style.padding="2% 2% 2.5% 3%",n.style.margin="0",n.style.border="0";var r=e.createElement("h1");r.style.lineHeight="1.4",r.style.color=t.contentWindow.document.getElementById("previewHeaderText").style.color,r.style.fontSize="40px",r.style.padding="0",r.style.margin="0",r.style.border="0",r.style.fontFamily="Raleway",r.innerHTML=t.contentWindow.document.getElementById("previewHeaderText").innerHTML;var o=r.innerHTML,i=e.createElement("div");i.style.padding="3% 0 4.5% 3.1%",i.style.margin="0",i.style.border="0";var a=e.createElement("p");a.style.color=t.contentWindow.document.getElementById("previewName").style.color,a.style.fontSize="16px",a.style.float="left",a.style.width="fit-content",a.style.padding="0",a.style.margin="0",a.style.border="0",a.style.fontFamily="Raleway",a.innerHTML=t.contentWindow.document.getElementById("previewName").innerHTML;var s=e.createElement("p");s.style.color=t.contentWindow.document.getElementById("previewDivider").style.color,s.style.fontSize="16px",s.style.float="left",s.style.width="fit-content",s.style.padding="0 1.5%",s.style.margin="0",s.style.border="0",s.style.fontFamily="Raleway",s.innerHTML="|";var u=e.createElement("p");u.style.color=t.contentWindow.document.getElementById("previewDate").style.color,u.style.fontSize="16px",u.style.float="left",u.style.width="fit-content",u.style.padding="0",u.style.margin="0",u.style.border="0",u.style.fontStyle="italic",u.style.fontFamily="Raleway",u.innerHTML=t.contentWindow.document.getElementById("previewDate").innerHTML;var c=e.createElement("div");c.style.fontSize="18px",c.style.lineHeight="1.5",c.style.overflowWrap="anywhere",c.style.padding="0 3%",c.style.paddingBottom="3%",c.style.margin="0",c.style.border="0";var l=e.createElement("p");l.style.color=t.contentWindow.document.getElementById("previewArticleText").style.color,l.style.padding="0",l.style.margin="0",l.style.whiteSpace="pre-wrap",l.style.fontFamily="Raleway",l.innerHTML=t.contentWindow.document.getElementById("previewArticleText").innerHTML,n.appendChild(r),i.appendChild(a),i.appendChild(s),i.appendChild(u),c.appendChild(l),e.body.appendChild(n),e.body.appendChild(i),e.body.appendChild(c),createBlogPage(e.body.innerHTML,e.body.style.backgroundColor,o),displayPopUp()},window.displayPopUp=function(){document.getElementById("PopUpWrapper").style.display="flex"},window.closeButton=function(){document.getElementById("PopUpWrapper").style.display="none"};var T=0;function x(){var t=document.getElementById("previewFrame");t.contentWindow.document.getElementById("previewMenu").style.backgroundColor=document.getElementById("headerColor").value;var e=document.getElementById("articleTitle").value;t.contentWindow.document.getElementById("previewHeaderText").innerHTML=""!=e?e:"Title",t.contentWindow.document.getElementById("previewHeaderText").style.color=document.getElementById("titleColor").value,t.contentWindow.document.body.style.backgroundColor=document.getElementById("pageColor").value;var n=document.getElementById("authorName").value;t.contentWindow.document.getElementById("previewName").innerHTML=""!=n?n:"First Last",t.contentWindow.document.getElementById("previewName").style.color=document.getElementById("authorColor").value,t.contentWindow.document.getElementById("previewDivider").style.color=document.getElementById("dividerColor").value;var r=document.getElementById("publishingDate").value;t.contentWindow.document.getElementById("previewDate").innerHTML=""!=r?r:"Month ##, ####",t.contentWindow.document.getElementById("previewDate").style.color=document.getElementById("dateColor").value;var o=document.getElementById("pageContent").value;t.contentWindow.document.getElementById("previewArticleText").innerHTML=""!=o?o:"Text here <br><br>Text here<br><br>Text here",t.contentWindow.document.getElementById("previewArticleText").style.color=document.getElementById("contentColor").value}window.pageBack=function(){T--,switchPage()},window.pageForward=function(){T++,switchPage()},window.switchPage=function(){var t,e=document.getElementsByClassName("pages");for(T>=e.length?T--:T<0&&T++,t=0;t<e.length;t++)e[t].style.display="none";e[T].style.display="block",1==T&&x()},window.login=t=>{t.stopPropagation(),t.preventDefault();var e=new FileReader;e.onload=function(t){try{let e=JSON.parse(t.target.result);localStorage.setItem("wallet",JSON.stringify(e));let n=document.getElementById("moveBack");E.wallets.jwkToAddress(e).then(t=>{n.innerHTML="";let e=document.createElement("P");e.innerHTML="Hello "+t,n.appendChild(e)}),document.getElementById("rightflipper").style.display="block"}catch(t){alert("Error logging in: "+t)}},e.readAsText(t.target.files[0])},window.load=()=>{console.log("load");let t=JSON.parse(localStorage.getItem("wallet"));if(t){window.loggedIn=!0;let e=document.getElementById("moveBack");E.wallets.jwkToAddress(t).then(t=>{e.innerHTML="";let n=document.createElement("P");n.innerHTML="Hello: "+t,e.appendChild(n)})}else document.getElementById("rightflipper").style.display="none"},document.addEventListener("keyup",t=>{if("block"==document.getElementById("pageThree").style.display&&x(),"block"==document.getElementById("pageFour").style.display){var e=document.getElementById("finalBlogLink");e.href="https://siasky.net/hns/"+document.getElementById("handshakeName").value,e.innerHTML="https://siasky.net/hns/"+document.getElementById("handshakeName").value}})}]);